# Performance Baseline Report

**Date:** December 5, 2025
**Branch:** ref/dashboard
**Commit:** Pre-optimization baseline

---

## Summary

This report establishes baseline performance metrics for the Profile Workspace caching system before any app-wide performance optimizations.

---

## Cache Architecture

| Component      | Value                       |
| -------------- | --------------------------- |
| Cache Provider | React Query v5              |
| Persistence    | IndexedDB (via localforage) |
| Stale Time     | 5 minutes                   |
| GC Time        | 30 minutes                  |
| Scope          | App-wide (all workspaces)   |

---

## API Call Efficiency

| Scenario                                               | API Calls | Cache Hits | Cache Hit Rate |
| ------------------------------------------------------ | --------- | ---------- | -------------- |
| Dashboard Initial Load                                 | 6         | 0          | 0%             |
| Cached Navigation (dashboard → employment → dashboard) | 6         | 7          | 54%            |
| Full Navigation Cycle (all 6 pages)                    | 6         | 6          | 50%            |

**Notes:**

- Initial load always makes 6 API calls (employment, education, skills, projects, certifications, profile)
- Subsequent navigation uses cached data, reducing redundant API calls
- Cache hit rate improves as user navigates between pages

---

## Load Time Benchmarks

| Metric                   | Time   |
| ------------------------ | ------ |
| Dashboard Initial Load   | ~200ms |
| Page Navigation (cached) | ~5ms   |
| Data Refresh (forced)    | ~180ms |

**Notes:**

- Cached navigation is ~40x faster than initial load
- These are simulated values; real browser metrics may vary

---

## Memory Usage Estimates

| Data Type       | Sample Size | Estimated Memory |
| --------------- | ----------- | ---------------- |
| Header/Metadata | -           | 64 bytes         |
| Employment      | 5 jobs      | 751 bytes        |
| Skills          | 20 skills   | 1,521 bytes      |
| Education       | 3 entries   | 358 bytes        |
| Projects        | 8 projects  | 1,281 bytes      |
| Certifications  | 4 certs     | 349 bytes        |
| **TOTAL**       | -           | **~4.22 KB**     |

**Notes:**

- Memory scales linearly with data volume
- Estimated max for heavy user: ~20-50 KB
- Well within browser memory limits

---

## Queries Per Data Type

| Query Key                | Used By Pages                |
| ------------------------ | ---------------------------- |
| `profile.employment`     | Dashboard, EmploymentHistory |
| `profile.education`      | Dashboard, Education         |
| `profile.skills`         | Dashboard, Skills            |
| `profile.projects`       | Dashboard, ProjectPortfolio  |
| `profile.certifications` | Dashboard, Certifications    |

**Architecture:**

- Single query per data type (no duplicates)
- Dashboard derives counts from full data arrays
- All pages share the same cached data

---

## Test Results

```
 ✓ frontend/performance/profile-performance.test.ts (6 tests)
   ✓ Profile Workspace Performance Baseline
     ✓ API Call Efficiency (3 tests)
     ✓ Load Time Benchmarks (1 test)
     ✓ Memory & Cache Size (1 test)
   ✓ Performance Comparison Helper (1 test)

 Test Files  1 passed (1)
      Tests  6 passed (6)
   Duration  929ms
```

---

## Comparison Template

Use this table after future optimizations:

| Metric                | Baseline (Dec 5) | After Optimization | Improvement |
| --------------------- | ---------------- | ------------------ | ----------- |
| Dashboard API Calls   | 6                |                    |             |
| Cache Hit Rate        | 50%              |                    |             |
| Dashboard Load Time   | 200ms            |                    |             |
| Page Navigation Time  | 5ms              |                    |             |
| Cache Memory Usage    | 4.22 KB          |                    |             |
| Full Navigation Cycle | 6 API calls      |                    |             |

---

## How to Re-Run Tests

```powershell
cd tests
npm run test:performance
```

For real browser metrics, paste `scripts/browser-perf-test.js` into DevTools console.

---

## Next Steps for Optimization

Potential areas to explore:

1. **Prefetching** - Load related data before navigation
2. **Batch queries** - Combine multiple queries into single request
3. **Optimistic updates** - Update cache before API confirms
4. **Selective invalidation** - Only refresh changed data
5. **Compression** - Reduce payload sizes from API

---

_Generated by performance test suite_
